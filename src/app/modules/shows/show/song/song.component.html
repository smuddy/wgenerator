<div *ngIf="iSong">
  <div *ngIf="show.published" class="title published">{{ iSong.title }}</div>

  <div *ngIf="!show.published" class="song">
    <app-menu-button
      (click)="reorder(true)"
      [icon]="faUp"
      class="btn-up btn-icon"
    ></app-menu-button>
    <app-menu-button
      (click)="reorder(false)"
      [icon]="faDown"
      class="btn-down btn-icon"
    ></app-menu-button>
    <span class="title">{{ iSong.title }}</span>
    <span class="keys">
      <span *ngIf="showSong.keyOriginal !== showSong.key"
      >{{ showSong.keyOriginal }}&nbsp;â†’&nbsp;</span
      >
      <mat-form-field *ngIf="keys" appearance="standard">
        <mat-select [formControl]="keyFormControl">
          <mat-option *ngFor="let key of keys" [value]="key">{{
            key
            }}</mat-option>
        </mat-select>
      </mat-form-field>
    </span>
    <app-menu-button
      (click)="onDelete()"
      [icon]="faDelete"
      class="btn-delete btn-icon"
    ></app-menu-button>
  </div>
  <app-song-text
    (chordModeChanged)="onChordModeChanged($event)"
    *ngIf="showText || show.published"
    [chordMode]="showSong.chordMode"
    [showSwitch]="!show.published"
    [text]="iSong.text"
    [transpose]="{ baseKey: showSong.keyOriginal, targetKey: showSong.key }"
  ></app-song-text>
</div>
